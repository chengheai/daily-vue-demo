<template>
  <div>
    <img v-for="(item, index) in list" :key="index" :src="item.url" alt>
  </div>
</template>

<script>
/* eslint-disable */
export default {
  data() {
    return {
      list: [],
      timer: null,
      timer1: null
    };
  },
  mounted() {
    this.pushData();
  },
  distroyed: function() {
    clearInterval(this.timer);
  },
  methods: {
    pushData() {
      let that = this;
      const item1 = {
        url:
          "https://res.wx.qq.com/mpres/htmledition/images/icon/emotion/97.gif"
      };
      const item = {
        url:
          "https://res.wx.qq.com/mpres/htmledition/images/icon/emotion/66.gif"
      };
      that.timer = setInterval(() => {
        that.list.push(item);
        if (that.list.length === 250) {
          that.$notify({
            title: "æç¤º",
            type: "success",
            message: "è¿™é‡Œæ˜¯250ä¸ªâ¤ï¸â¤ï¸â¤ï¸â¤ï¸â¤ï¸",
            duration: 0,
            onClose: function() {
              that.timer1 = setInterval(() => {
                that.list.push(item1);
                if (that.list.length === 520) {
                  that.$notify({
                    title: "æç¤º",
                    type: "success",
                    message: "è¿™é‡Œæ€»å…±520ä¸ª",
                    duration: 0,
                    onClose: function() {
                      that
                        .$confirm("ğŸ·ğŸ·ğŸ·ğŸ·ğŸ·ğŸ·ï¼Œå¥½ç©å—?", "æç¤º", {
                          confirmButtonText: "å¥½ç©",
                          cancelButtonText: "ä¸å¥½ç©",
                          type: "warning"
                        })
                        .then(() => {
                          that.$message({
                            type: "success",
                            message: "çŒªğŸ·ğŸ· ï¼ï¼ï¼"
                          });
                        })
                        .catch(() => {
                          that.$message({
                            type: "success",
                            message: "çŒªğŸ·ğŸ· ï¼ï¼ï¼ï¼ï¼"
                          });
                        });
                    }
                  });
                  clearInterval(that.timer1);
                }
              }, 10);
            }
          });
          clearInterval(this.timer);
        }
      }, 10);
    }
  }
};
</script>

<style lang='css' scoped>
div {
  width: 100vw;
  height: calc(100vh - 83px);
  background: #fff;
}
</style>
